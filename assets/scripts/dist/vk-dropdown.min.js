"use strict";function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},_createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),VkDropdown=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[data-vk-dropdown]",i=arguments[1];if(_classCallCheck(this,e),"string"==typeof t){var n=document.querySelectorAll(t);if(n.length>1)for(var s=1;s<n.length;s++){var o=n[s];new e(o,i)}}if(this.element="string"==typeof t?document.querySelector(t):t,!this.element)return void console.error("Passed element not found");var r={classNames:{activeState:"is-active",focusState:"is-focused",highlightedState:"is-highlighted",openState:"is-open",container:"vk-dropdown",input:"vdd-input-container__input",inputContainer:"vdd-input-container",inputContainerAdd:"vdd-input-container__add",inputContainerAddIcon:"vdd-input-container__add-icon",inputContainerArrow:"vdd-input-container__arrow",inputContainerClear:"vdd-input-container__clear",list:"vdd-list",listItem:"vdd-list__item",listItemEmpty:"vdd-list__item-empty",listItemName:"vdd-list__name",listItemPhotoContainer:"vdd-list__photo",photoPreview:"vdd-photo-preview__item",photoPreviewContainer:"vdd-photo-preview__container",selectedItem:"vdd-input-container__selected-item",selectedItemName:"vdd-input-container__selected-item-name",selectedItemRemove:"vdd-input-container__selected-item-remove",selectedList:"vdd-input-container__selected"},multi:!1,noPhoto:!1,noPhotoPreview:!1,noServerSearch:!1};this.config=_extends({},r,i),this.config.multi=this.config.multi||this.element.hasAttribute("data-multi"),this.config.noPhoto=this.config.noPhoto||this.element.hasAttribute("data-no-photo"),this.config.noPhotoPreview=this.config.noPhotoPreview||this.element.hasAttribute("data-no-photo-preview"),this.config.noServerSearch=this.config.noServerSearch||this.element.hasAttribute("data-no-server-search"),this.selectedItems=[],this.xhr=null,this.wasTap=!0,this._onKeyDown=this._onKeyDown.bind(this),this._onClick=this._onClick.bind(this),this._onMouseOver=this._onMouseOver.bind(this),this._onTouchMove=this._onTouchMove.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._init()}return _createClass(e,[{key:"_init",value:function(){this._createTemplates(),this._renderElement(),this._renderContainer(),this._addEventListeners()}},{key:"_addEventListeners",value:function(){document.addEventListener("keydown",this._onKeyDown),document.addEventListener("click",this._onClick),document.addEventListener("mouseover",this._onMouseOver),document.addEventListener("touchmove",this._onTouchMove),document.addEventListener("touchend",this._onTouchEnd)}},{key:"_removeEventListeners",value:function(){document.removeEventListener("keydown",this._onKeyDown),document.removeEventListener("click",this._onClick),document.removeEventListener("mouseover",this._onMouseOver),document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd)}},{key:"_onKeyDown",value:function(e){var t,i=this,n=e.target,s=this.list.classList.contains(this.config.classNames.activeState);if(s||this.container.contains(n)){var o=this.list.children,r=function(){for(var e=0;e<o.length;e++){var t=o[e];if(t.classList.contains(i.config.classNames.highlightedState))return i._selectItem(t),void i.hideDropdown()}},a=function(){s&&i.hideDropdown()},l=function(){for(var t=40===e.keyCode?1:-1,n=void 0,s=0;s<o.length;s++){var r=o[s];if(r.classList.contains(i.config.classNames.highlightedState)){i._unhighlightElement(r);var a=s+t;a>=o.length&&(a=s),n=o[a]}}n||(n=o[0]),i._highlightElement(n),i._scrollListToHighlightElement(n,t),e.preventDefault()},h=(t={},_defineProperty(t,13,r),_defineProperty(t,27,a),_defineProperty(t,38,l),_defineProperty(t,40,l),t);if(h[e.keyCode])h[e.keyCode]();else{if(!this.config.multi&&this.selectedItems.length)return;setTimeout(function(){i._searchItems(i.input.value)},0)}}}},{key:"_onClick",value:function(e){var t=e.target,i=this.list.classList.contains(this.config.classNames.activeState);if(this.container.contains(t)){var n=void 0;if(t.hasAttribute("data-clear"))return void this._clearSelect();if(t.hasAttribute("data-remove"))return void this._removeItem(t);(n=this._findAncestorByAttr(t,"data-item"))&&(this._selectItem(n),this.hideDropdown()),i||this.showDropdown()}else i&&this.hideDropdown()}},{key:"_onMouseOver",value:function(e){var t=e.target;if(t===this.list||this.list.contains(t)){this._unhighlightAll();var i=void 0;(i=this._findAncestorByAttr(t,"data-item"))&&this._highlightElement(i)}}},{key:"_onTouchMove",value:function(){!0===this.wasTap&&(this.wasTap=!1)}},{key:"_onTouchEnd",value:function(e){var t=e.target||e.touches[0].target,i=this.list.classList.contains(this.config.classNames.activeState);!0===this.wasTap&&this.container.contains(t)?(i||this.showDropdown(),e.stopPropagation()):i&&this.hideDropdown(),this.wasTap=!0}},{key:"_highlightElement",value:function(e){e.classList.add(this.config.classNames.highlightedState)}},{key:"_unhighlightElement",value:function(e){e.classList.remove(this.config.classNames.highlightedState)}},{key:"_unhighlightAll",value:function(){for(var e=this.list.children,t=0;t<e.length;t++){var i=e[t];i.classList.contains(this.config.classNames.highlightedState)&&this._unhighlightElement(i)}}},{key:"_scrollListToTop",value:function(){this.list.scrollTop=0}},{key:"_scrollListToHighlightElement",value:function(e,t){var i=e.offsetTop+e.offsetHeight,n=e.offsetTop,s=this.list.scrollTop,o=this.list.offsetHeight;t>0&&i>o?this.list.scrollTop=i-o:t<0&&o+n<o+s&&(this.list.scrollTop=n)}},{key:"_findAncestorByAttr",value:function(e,t){for(var i=e;i;){if(i.hasAttribute(t))return i;i=i.parentElement}return null}},{key:"_clearSelect",value:function(){this.selectedItems=[],this._renderContainer(),this.inputContainer.querySelectorAll("[data-clear]")[0].style.display="none",this.list.classList.contains(this.config.classNames.activeState)&&this.input.focus()}},{key:"_renderElement",value:function(){var e=this._getTemplate("container"),t=this._getTemplate("input"),i=this._getTemplate("inputContainer"),n=this._getTemplate("list");if(this.container=e,this.input=t,this.inputContainer=i,this.list=n,this.config.multi){var s=this._getTemplate("selectedList");this.selectedList=s,i.appendChild(s)}if(i.appendChild(t),e.appendChild(i),e.appendChild(n),!this.config.noPhotoPreview){var o=this._getTemplate("photoPreviewContainer");this.photoPreviewContainer=o,e.appendChild(o)}this.element.appendChild(e)}},{key:"_createTemplates",value:function(){var e=this,t=this.config.classNames;this.config.templates={container:function(){var e=document.createElement("div");return e.className=t.container,e},input:function(){var e=document.createElement("input");return e.className=t.input,e.type="text",e.placeholder="Name...",e},inputContainer:function(){var i=document.createElement("div");i.className=t.inputContainer;var n=document.createElement("div");if(n.className=t.inputContainerArrow,i.appendChild(n),e.config.multi);else{var s=document.createElement("div");s.className=t.inputContainerClear,s.style.display="none",s.setAttribute("data-clear",""),i.appendChild(s)}return i},list:function(){var e=document.createElement("div");return e.className=t.list,e},listItem:function(i){var n=document.createElement("div");n.className=t.listItem,n.setAttribute("data-item",""),n.setAttribute("data-id",i.id);var s=document.createElement("div");if(s.className=t.listItemName,s.innerHTML=i.name,!e.config.noPhoto){var o=document.createElement("img");o.src=i.photo;var r=document.createElement("div");r.className=t.listItemPhotoContainer,r.appendChild(o),n.appendChild(r)}return n.appendChild(s),n},listItemEmpty:function(){var e=document.createElement("div");return e.className=t.listItemEmpty,e.innerHTML="The user is not found",e},photoPreview:function(e){var i=document.createElement("div");i.className=t.photoPreview;var n=document.createElement("img");return n.src=e,i.appendChild(n),i},photoPreviewContainer:function(){var e=document.createElement("div");return e.className=t.photoPreviewContainer,e},selectedItem:function(e){var i=document.createElement("div");i.className=t.selectedItem,i.setAttribute("data-id",e.id);var n=document.createElement("div");n.className=t.selectedItemName,n.innerHTML=e.name;var s=document.createElement("div");return s.className=t.selectedItemRemove,s.setAttribute("data-remove",""),i.appendChild(n),i.appendChild(s),i},selectedList:function(){var e=document.createElement("div");e.className=t.selectedList;var i=document.createElement("div");i.className=t.inputContainerAdd,i.innerHTML="Add",i.setAttribute("data-add","");var n=document.createElement("div");return n.className=t.inputContainerAddIcon,i.appendChild(n),e.appendChild(i),e}}}},{key:"_getOtherKeyboardLayout",value:function(e,t){if(!t)return e;var i="щ   ш  ч  ц  ю  я  ё  ж  ъ  ы  э  а б в г д е з и й к л м н о п р с т у ф х ь".split(/ +/g),n="shh sh ch cz yu ya yo zh `` y' e` a b v g d e z i j k l m n o p r s t u f x `".split(/ +/g),s="o i x w . z \\ ; ] s ' f , d u l t p b q r k v y j g h c n e a [ m".split(/ +/g);switch(t){case"ru2en":for(var o=0;o<i.length;o++)e=e.split(i[o]).join(n[o]);return e;case"en2ru":for(var r=0;r<i.length;r++)e=e.split(n[r]).join(i[r]);return e;case"enBad2ru":for(var a=0;a<i.length;a++)e=e.split(s[a]).join(i[a]);return e;case"ruBad2en2ru":for(var l=0;l<i.length;l++)e=e.split(i[l]).join(s[l]);return this._getOtherKeyboardLayout(e,"en2ru")}return e}},{key:"_getTemplate",value:function(e){if(!e)return null;for(var t=this.config.templates,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t[e].apply(t,n)}},{key:"_renderContainer",value:function(){this.config.multi?this.selectedItems.length&&this._showSelectedListAddButton():this.selectedItems.length?this._showSelectedClearButton():this._hideSelectedClearButton(),this._renderListItems(this.config.presetItems),this._renderSelectedItems()}},{key:"_renderListItems",value:function(e,t){var i=this,n=document.createDocumentFragment(),s=this.selectedItems.map(function(e){return+e.getAttribute("data-id")}),o=this.list.querySelectorAll("[data-item]"),r=o.length,a=[];if(t)for(var l=0;l<r;l++){var h=o[l];a.push(+h.getAttribute("data-id"))}e.forEach(function(e){if(!t&&!~s.indexOf(e.id)||t&&!~a.indexOf(e.id)){var o=i._getTemplate("listItem",e);n.appendChild(o)}}),(!t||t&&!r)&&(this.list.innerHTML=""),this.list.appendChild(n),(r=this.list.querySelectorAll("[data-item]").length)||this._renderListItemsEmpty()}},{key:"_renderListItemsEmpty",value:function(){var e=this._getTemplate("listItemEmpty");this.list.appendChild(e)}},{key:"_renderPhotoPreview",value:function(e){var t=this,i=document.createDocumentFragment();e.forEach(function(e){var n=t._getTemplate("photoPreview",e.photo);i.appendChild(n)}),this.photoPreviewContainer.innerHTML="",this.photoPreviewContainer.appendChild(i)}},{key:"_renderSelectedItems",value:function(){for(var e=this,t=this.selectedItems.map(function(e){return+e.getAttribute("data-id")}),i=[],n=0;n<t.length;n++)!function(n){var s=t[n],o=e.config.presetItems.filter(function(e){return e.id===s})[0];i.push(o)}(n);if(this.config.multi){var s=document.createDocumentFragment(),o=this.selectedList.querySelectorAll("[data-add]")[0].cloneNode(!0);o.style.display=this.selectedItems.length?"inline-block":"none",i.forEach(function(t){var i=e._getTemplate("selectedItem",t);s.appendChild(i)}),this.selectedList.innerHTML="",this.selectedList.appendChild(s),this.selectedList.appendChild(o)}else if(this.selectedItems.length>0){var r=+this.selectedItems[0].getAttribute("data-id"),a=this.config.presetItems.filter(function(e){return e.id===r})[0];this.input.value=a.name,this.input.setAttribute("readonly","readonly")}else this.input.value="",this.input.removeAttribute("readonly");this.config.noPhotoPreview||this._renderPhotoPreview(i)}},{key:"_searchItems",value:function(e){var t=this;e||this._renderListItems(this.config.presetItems);var i=this.config.presetItems,n=e.toLowerCase(),s=i.filter(function(e,i){for(var s=e.name.toLowerCase().split(" "),o=!1,r=0;r<s.length;r++){var a=s[r],l=t._getOtherKeyboardLayout(n,"ru2en"),h=t._getOtherKeyboardLayout(n,"en2ru"),c=t._getOtherKeyboardLayout(n,"enBad2ru"),d=t._getOtherKeyboardLayout(n,"ruBad2en2ru");if(o=!(a.indexOf(n)&&a.indexOf(l)&&a.indexOf(h)&&a.indexOf(c)&&a.indexOf(d)))return o}return o});this._renderListItems(s),this.config.noServerSearch||this._searchOnServer(n)}},{key:"_searchOnServer",value:function(e){var t=this,i="items="+encodeURIComponent(JSON.stringify(this.config.presetItems))+"&q="+e;this.xhr&&4!==this.xhr.readyState&&this.xhr.abort(),this.xhr=new XMLHttpRequest,this.xhr.open("POST","api.php",!0),this.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),this.xhr.onload=function(){if(this.status>=200&&this.status<400){var e=JSON.parse(this.response);t._renderListItems(e,!0)}},this.xhr.onerror=function(e){console.log(e)},this.xhr.send(i)}},{key:"_selectItem",value:function(e){e&&(this.input.value="",this.config.multi||(this.selectedItems=[]),this.selectedItems.push(e),this._renderContainer())}},{key:"_removeItem",value:function(e){if(e&&this.config.multi){var t=+e.parentElement.getAttribute("data-id");this.selectedItems=this.selectedItems.filter(function(e){return+e.getAttribute("data-id")!==t}),this.hideDropdown(),this._renderContainer()}}},{key:"hideDropdown",value:function(){this.input.blur(),this._scrollListToTop(),this._unhighlightAll(),this.container.classList.remove(this.config.classNames.openState),this.list.classList.remove(this.config.classNames.activeState),this.config.multi&&(this.selectedItems.length||this._showInput(),this.selectedItems.length&&!this.input.value&&(this._showSelectedListAddButton(),this._hideInput()))}},{key:"showDropdown",value:function(){this.input.focus(),this.container.classList.add(this.config.classNames.openState),this.list.classList.add(this.config.classNames.activeState),this.config.multi&&(this._hideSelectedListAddButton(),this._showInput(),this.input.focus())}},{key:"_hideSelectedClearButton",value:function(){this.inputContainer.querySelectorAll("[data-clear]")[0].style.display="none"}},{key:"_showSelectedClearButton",value:function(){this.inputContainer.querySelectorAll("[data-clear]")[0].style.display="block"}},{key:"_hideSelectedListAddButton",value:function(){this.selectedList.querySelectorAll("[data-add]")[0].cloneNode(!0).style.display="none"}},{key:"_showSelectedListAddButton",value:function(){this.selectedList.querySelectorAll("[data-add]")[0].cloneNode(!0).style.display="inline-block"}},{key:"_hideInput",value:function(){this.input.style.display="none"}},{key:"_showInput",value:function(){this.input.style.display="inline"}}]),e}();
"use strict";!function(t){function e(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function r(t){return"string"!=typeof t&&(t=String(t)),t}function o(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return m.iterable&&(e[Symbol.iterator]=function(){return e}),e}function n(t){this.map={},t instanceof n?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function i(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function a(t){var e=new FileReader,r=s(e);return e.readAsArrayBuffer(t),r}function u(t){var e=new FileReader,r=s(e);return e.readAsText(t),r}function h(t){for(var e=new Uint8Array(t),r=new Array(e.length),o=0;o<e.length;o++)r[o]=String.fromCharCode(e[o]);return r.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"==typeof t)this._bodyText=t;else if(m.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(m.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(m.arrayBuffer&&m.blob&&v(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!B(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob&&(this.blob=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?i(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=i(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(h(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(t){var e=t.toUpperCase();return _.indexOf(e)>-1?e:t}function l(t,e){e=e||{};var r=e.body;if(t instanceof l){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new n(t.headers)),this.method=t.method,this.mode=t.mode,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new n(e.headers)),this.method=y(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function c(t){var e=new n;return t.split(/\r?\n/).forEach(function(t){var r=t.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();e.append(o,n)}}),e}function b(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new n(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var m={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(m.arrayBuffer)var w=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},B=ArrayBuffer.isView||function(t){return t&&w.indexOf(Object.prototype.toString.call(t))>-1};n.prototype.append=function(t,o){t=e(t),o=r(o);var n=this.map[t];this.map[t]=n?n+","+o:o},n.prototype.delete=function(t){delete this.map[e(t)]},n.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(t,o){this.map[e(t)]=r(o)},n.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},n.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),o(t)},n.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),o(t)},n.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),o(t)},m.iterable&&(n.prototype[Symbol.iterator]=n.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];l.prototype.clone=function(){return new l(this,{body:this._bodyInit})},d.call(l.prototype),d.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new n(this.headers),url:this.url})},b.error=function(){var t=new b(null,{status:0,statusText:""});return t.type="error",t};var A=[301,302,303,307,308];b.redirect=function(t,e){if(-1===A.indexOf(e))throw new RangeError("Invalid status code");return new b(null,{status:e,headers:{location:t}})},t.Headers=n,t.Request=l,t.Response=b,t.fetch=function(t,e){return new Promise(function(r,o){var n=new l(t,e),i=new XMLHttpRequest;i.onload=function(){var t={status:i.status,statusText:i.statusText,headers:c(i.getAllResponseHeaders()||"")};t.url="responseURL"in i?i.responseURL:t.headers.get("X-Request-URL");var e="response"in i?i.response:i.responseText;r(new b(e,t))},i.onerror=function(){o(new TypeError("Network request failed"))},i.ontimeout=function(){o(new TypeError("Network request failed"))},i.open(n.method,n.url,!0),"include"===n.credentials&&(i.withCredentials=!0),"responseType"in i&&m.blob&&(i.responseType="blob"),n.headers.forEach(function(t,e){i.setRequestHeader(e,t)}),i.send(void 0===n._bodyInit?null:n._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!=typeof self?self:void 0);
//# sourceMappingURL=vk-dropdown.min.js.map
